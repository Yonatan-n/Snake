{"version":3,"sources":["gameSnake.js"],"names":["canvas","document","getElementById","ctx","getContext","colorList","snake","body","food","x","y","width","dir","speed","border","length","tail","incSpeedX","move","change","spd","console","error","Error","hd","shift","push","window","onload","initCanvas","initArrowControls","funkTitle","isPhone","flag","querySelector","computedStyle","getComputedStyle","color","getPropertyValue","Number","toString","slice","myEvent","ctrl","arrows","children","i","addEventListener","target","id","dirKeys","falseMove","key","undefined","log","switchThisColor","me","xs","style","randChoice","setInterval","srcElement","clearRect","height","fillStyle","fillRect","stroke","draw","randRange","l","h","Math","floor","random","xy","drawAllWithBorder","br","wd"],"mappings":"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","file":"gameSnake.map","sourceRoot":"..","sourcesContent":["var canvas = document.getElementById('snakeCanvas')\nvar ctx = canvas.getContext('2d')\nconst colorList = [\n  'whitesmoke',\n  'green',\n  'blue',\n  'burlywood',\n  'violet',\n  'pink',\n  'crimson',\n  'cadetblue',\n  'rosybrown',\n  'royalblue',\n  'red',\n  'rebeccapurple',\n  'yellowgreen',\n  'yellow',\n  'palevioletred',\n  'palegreen',\n  'salmon',\n  'aqua'\n]\nvar snake = {\n  body: [[0, 0], [20, 0], [40, 0], [60, 0]],\n  food: [[100, 100], [120, 120]],\n  x: 0,\n  y: 0,\n  width: 20,\n  dir: 'right',\n  speed: 20,\n  border: 2,\n  length: 5,\n  tail: [\n    { x: 0, y: 200 },\n    { x: 20, y: 200 },\n    { x: 40, y: 200 },\n    { x: 60, y: 200 },\n    { x: 80, y: 200 }\n  ],\n  incSpeedX: function () {\n    this.x += this.speed\n  },\n  move: function () {\n    let change\n    const spd = this.speed\n    switch (this.dir) {\n      case 'right':\n        change = [spd, 0]\n        break\n      case 'left':\n        change = [-spd, 0]\n        break\n      case 'up':\n        change = [0, -spd]\n        break\n      case 'down':\n        change = [0, spd]\n        break\n      default:\n        console.error('error with snake dir', new Error())\n        break\n    }\n    const hd = snake.tail[snake.length - 1]\n    snake.tail.shift()\n    snake.tail.push({\n      x: hd.x + change[0],\n      y: hd.y + change[1]\n    })\n  }\n}\nwindow.onload = function () { initCanvas(); initArrowControls(); funkTitle() }\n\nfunction isPhone () {\n  const flag = document.querySelector('#isPhone')\n  const computedStyle = window.getComputedStyle(flag, null)\n  const color = computedStyle.getPropertyValue('color')\n  return Number(color.toString().slice(4, 7)) === 255\n}\n\nfunction initArrowControls () {\n  let myEvent = isPhone() ? 'touchstart' : 'click'\n  const ctrl = document.querySelector('#controls')\n  let arrows = ctrl.children\n  for (let i = 0; i < arrows.length; i++) {\n    arrows[i].addEventListener(myEvent, function (x) { snake.dir = (x.target.id) })\n  }\n  document.addEventListener('keydown', function (x) {\n    const dirKeys = {\n      'w': 'up',\n      'a': 'left',\n      's': 'down',\n      'd': 'right'\n    }\n    const falseMove = {\n      'up': 'down',\n      'down': 'up',\n      'left': 'right',\n      'right': 'left'\n    }\n    if (dirKeys[x.key] !== undefined &&\n        falseMove[dirKeys[x.key]] !== snake.dir) {\n      snake.dir = dirKeys[x.key]\n    } else {\n      console.log('na')\n    }\n  })\n  return 0\n}\n\nfunction switchThisColor (me, xs = colorList) {\n  me.style.color = randChoice(xs)\n  return 0\n}\nfunction funkTitle () {\n  document.querySelector('#h-one').addEventListener('click', function (x) {\n    window.setInterval(function () { switchThisColor(x.srcElement) }, 1000)\n    return 0\n  })\n  // switchThisColor(, undefined)\n  return 0\n}\n\nfunction initCanvas () {\n  ctx.clearRect(0, 0, canvas.width, canvas.height)\n  // console.log(canvas.clientWidth)\n  ctx.fillStyle = 'black'\n  // ctx.rotate(Math.PI / 180 * 10)\n  ctx.fillRect(500, 500, 100, 100)\n  ctx.stroke()\n  // console.log(new Date())\n  // window.requestAnimationFrame(draw)\n  window.setInterval(draw, 1000 / 10) // Main Loop!\n}\n\nfunction randRange (l, h) {\n  return Math.floor(Math.random() * (h - l))\n}\nfunction randChoice (xs) {\n  return xs[randRange(0, xs.length)]\n}\n\nfunction draw () {\n  ctx.fillStyle = 'black'\n  ctx.clearRect(0, 0, canvas.width, canvas.height)\n  ctx.fillStyle = 'yellow'\n  for (let i = 0; i < snake.length; i++) {\n    const xy = snake.tail[i]\n    drawAllWithBorder([xy.x, xy.y])\n    // ctx.fillRect(snake.tail[i].x, snake.tail[i].y, snake.width, snake.width)\n  }\n  snake.move()\n  // window.requestAnimationFrame(draw)\n  // ;({ x, y, width } = snake) // eslint-disable-line\n  // const leftest = snake.body[0]\n  // ctx.clearRect(leftest[0], leftest[1], snake.width, snake.width)\n  // snake.move()\n  // snake.incSpeedX()\n  // snake.x += snake.speed\n  // snake.y += 0\n  // ;(() => snake.x === 600 ? console.log(new Date()) : null)()\n  /* snake.body.forEach(xy => {\n    drawAllWithBorder(xy)\n  }) */\n  // snake.body = snake.body.slice(1).concat(xs[0])\n  // ctx.fillRect(snake.x, snake.y, width, width)\n}\n\nfunction drawAllWithBorder (xy) {\n  const br = snake.border\n  const wd = snake.width\n  ctx.fillStyle = 'black'\n  ctx.fillRect(xy[0], xy[1], wd, wd)\n  ctx.fillStyle = 'yellow'\n  ctx.fillRect(xy[0] + (br / 2), xy[1] + (br / 2), wd - br, wd - br)\n}\n"]}